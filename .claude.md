# Ultra Claude Code - Project Documentation

## Specification Structure Best Practices

This document defines how we organize and structure specification files in this project.

---

## Core Principle

**Every folder MUST have a `.md` file with the same name as the folder.**

This file is the **primary/mandatory specification** for that component, feature, or module.

---

## Folder and File Naming

### Naming Convention
- **Folders**: Use `kebab-case` (lowercase with hyphens)
  - Example: `canvas-grid`, `editor-component`, `session-manager`
- **Files**: Use `kebab-case.md`
  - Primary spec matches folder name: `canvas-grid.md`
  - Additional specs use short names: `implementation.md`, `design.md`, `api.md`

### Why Short Names for Additional Files?
The folder name provides context, so we don't repeat it in file names.

**Good:**
```
canvas-grid/
├── canvas-grid.md        # Primary spec
├── implementation.md     # Short name
└── design.md             # Short name
```

**Bad:**
```
canvas-grid/
├── canvas-grid.md
├── canvas-grid-implementation.md  # Redundant prefix
└── canvas-grid-design.md          # Redundant prefix
```

---

## Structure Patterns

### Pattern 1: Simple Component (Single File)

When a component is simple enough to be described in one file:

```
specs/ultra-claude-code/client/
├── client.md
├── editor-component.md       # Single file, no folder needed
├── chat-component.md         # Single file, no folder needed
└── socket-integration.md     # Single file, no folder needed
```

### Pattern 2: Complex Component (With Folder)

When a component needs multiple files (sub-components, detailed specs):

```
specs/ultra-claude-code/client/
└── complex-component/
    ├── complex-component.md  # PRIMARY - same name as folder
    ├── sub-component-1.md    # Additional spec
    ├── sub-component-2.md    # Additional spec
    └── implementation.md     # Additional spec
```

### Pattern 3: Feature Organization

Features are user-facing functionality that may span multiple components:

```
specs/ultra-claude-code/client/features/
└── canvas-grid/
    ├── canvas-grid.md        # PRIMARY - feature specification
    ├── implementation.md     # Implementation details
    └── design.md             # Design decisions
```

---

## Directory Structure

```
specs/
└── ultra-claude-code/
    ├── ultra-claude-code.md      # Root spec
    ├── architecture-spec.md
    ├── implementation-plan.md
    │
    ├── server/
    │   ├── server.md             # PRIMARY for server
    │   ├── session-manager.md
    │   ├── claude-agent.md
    │   └── config.md
    │
    └── client/
        ├── client.md             # PRIMARY for client
        ├── editor-component.md
        ├── chat-component.md
        ├── socket-integration.md
        │
        └── features/             # Feature-specific specs
            └── canvas-grid/
                ├── canvas-grid.md     # PRIMARY
                └── implementation.md
```

---

## When to Create a Folder vs. Single File

### Create a Folder When:
1. Component has multiple sub-components
2. Specification is complex and needs to be split
3. Need separate docs for design, implementation, API, etc.
4. Feature spans multiple concerns

### Use a Single File When:
1. Component is straightforward
2. Specification fits comfortably in one document
3. No sub-components or complex parts

---

## Component vs. Feature Organization

### Components (`specs/.../client/`)
- **What it is:** Reusable UI building blocks
- **Focus:** How things are built
- **Examples:** Editor, Chat, Modal, Header

### Features (`specs/.../client/features/`)
- **What it is:** User-facing functionality
- **Focus:** What users can do
- **Examples:** Canvas Grid, File Management, Collaboration Tools

---

## Best Practices

1. **Primary Spec is Mandatory**
   - Every folder MUST have a `.md` file with the same name
   - This is the entry point for understanding that component/feature

2. **Keep Names Short**
   - Folder provides context
   - No need to repeat folder name in file names

3. **Organize by Complexity**
   - Simple = single file
   - Complex = folder with multiple files

4. **Features are Separate**
   - Features live under `features/` subfolder
   - Features describe user-facing functionality
   - Components describe technical building blocks

5. **Consistency**
   - Always use `kebab-case`
   - Always match folder name with primary spec name
   - Follow the same pattern across the project

---

## Examples

### Example 1: Adding a New Simple Component

New component: "Status Bar"

```
# Just create a single file
specs/ultra-claude-code/client/status-bar.md
```

### Example 2: Adding a Complex Component

New component: "Advanced Editor" with multiple parts

```
# Create a folder
specs/ultra-claude-code/client/advanced-editor/
├── advanced-editor.md    # PRIMARY - must match folder name
├── toolbar.md            # Sub-component
├── syntax-highlighting.md
└── plugins.md
```

### Example 3: Adding a New Feature

New feature: "Real-time Collaboration"

```
# Create under features
specs/ultra-claude-code/client/features/real-time-collaboration/
├── real-time-collaboration.md   # PRIMARY
├── implementation.md
├── websocket-protocol.md
└── conflict-resolution.md
```

---

## Migration Notes

If a simple component (single file) grows complex:

1. Create a folder with the same name
2. Rename the file to match the folder name
3. Move the file into the folder
4. Add additional spec files as needed

**Before:**
```
client/
└── editor-component.md
```

**After:**
```
client/
└── editor-component/
    ├── editor-component.md   # Renamed from above
    ├── toolbar.md            # New
    └── plugins.md            # New
```

---

This structure ensures:
- ✅ Clear organization
- ✅ Easy navigation
- ✅ Scalable as project grows
- ✅ Consistent patterns
- ✅ Self-documenting folder structure
